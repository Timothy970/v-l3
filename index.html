<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Be My Valentine ðŸ’–</title>
		<style>
			* {
				box-sizing: border-box;
				font-family: "Comic Sans MS", cursive, sans-serif;
			}

			body {
				margin: 0;
				height: 100vh;
				background: linear-gradient(135deg, #ff9a9e, #fad0c4);
				display: flex;
				justify-content: center;
				align-items: center;
				overflow: hidden;
			}

			.card {
				background: white;
				padding: 40px;
				border-radius: 20px;
				text-align: center;
				box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
				width: 320px;
				position: relative;
				z-index: 2;
				min-height: 200px;
				display: flex;
				flex-direction: column;
				justify-content: center;
			}

			h1 {
				color: #ff4d6d;
				margin-bottom: 20px;
			}

			.success-message {
				display: none;
				font-size: 32px;
				color: #ff4d6d;
				line-height: 1.6;
			}

			.success-message.show {
				display: block;
				animation: popIn 0.6s ease;
			}

			@keyframes popIn {
				0% {
					transform: scale(0.5);
					opacity: 0;
				}
				100% {
					transform: scale(1);
					opacity: 1;
				}
			}

			.buttons {
				position: relative;
				height: 120px;
			}

			button {
				padding: 12px 25px;
				font-size: 18px;
				border: none;
				border-radius: 30px;
				cursor: pointer;
				position: absolute;
				transition: none;
			}

			#yes {
				background: #ff4d6d;
				color: white;
				left: 50%;
				transform: translateX(-50%);
				bottom: 0;
			}

			#no {
				background: #ccc;
				color: #333;
				left: 10px;
				top: 0;
			}

			.rain {
				position: fixed;
				top: -50px;
				font-size: 24px;
				animation: fall linear forwards;
				z-index: 1;
			}

			@keyframes fall {
				to {
					transform: translateY(110vh) rotate(360deg);
					opacity: 0;
				}
			}
		</style>
	</head>
	<body>
		<div class="card">
			<h1 id="question">Will you be my Valentine? ðŸ’˜</h1>

			<div class="success-message" id="successMessage">
				Yes! You made me the happiest! ðŸ’•<br />
				Let's celebrate together! ðŸŽ‰
			</div>

			<div class="buttons" id="buttonContainer">
				<button id="yes">YES ðŸ’–</button>
				<button id="no">NO ðŸ˜œ</button>
			</div>
		</div>

		<script>
			const noBtn = document.getElementById("no");
			const yesBtn = document.getElementById("yes");
			const question = document.getElementById("question");
			const successMessage = document.getElementById("successMessage");
			const buttonContainer = document.getElementById("buttonContainer");

			// Track mouse position continuously
			document.addEventListener("mousemove", (e) => {
				const btnRect = noBtn.getBoundingClientRect();
				const mouseX = e.clientX;
				const mouseY = e.clientY;

				// Check if mouse is over the button with some buffer
				const buffer = 40;
				if (
					mouseX > btnRect.left - buffer &&
					mouseX < btnRect.right + buffer &&
					mouseY > btnRect.top - buffer &&
					mouseY < btnRect.bottom + buffer
				) {
					moveNoButton();
				}
			});

			// Also move on hover for extra responsiveness
			noBtn.addEventListener("mouseover", moveNoButton);

			function moveNoButton() {
				const btnWidth = noBtn.offsetWidth;
				const btnHeight = noBtn.offsetHeight;

				const container = noBtn.parentElement;
				const containerRect = container.getBoundingClientRect();

				const maxX = Math.max(0, containerRect.width - btnWidth - 10);
				const maxY = Math.max(0, containerRect.height - btnHeight - 10);

				const x = Math.random() * maxX;
				const y = Math.random() * maxY;

				noBtn.style.left = `${x}px`;
				noBtn.style.top = `${y}px`;
			}

			// YES button action
			yesBtn.addEventListener("click", () => {
				question.style.display = "none";
				buttonContainer.style.display = "none";
				successMessage.classList.add("show");

				for (let i = 0; i < 80; i++) {
					createRain();
				}
			});

			function createRain() {
				const el = document.createElement("div");
				el.classList.add("rain");
				el.innerText = Math.random() > 0.5 ? "â¤ï¸" : "ðŸŒ¸";

				el.style.left = Math.random() * 100 + "vw";
				el.style.animationDuration = Math.random() * 2 + 2 + "s";

				document.body.appendChild(el);

				setTimeout(() => {
					el.remove();
				}, 4000);
			}
		</script>
	</body>
</html>
